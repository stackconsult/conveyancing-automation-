# Agent Orchestra Local LLM Router v2 Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO
PORT=8000
HOST=0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Primary PostgreSQL database (main + TimescaleDB extension)
DATABASE_URL=postgresql://username:password@localhost:5432/orchestra_v2

# Redis for caching and session management
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# INTROSPECTION & DISCOVERY
# =============================================================================
ENABLE_AUTO_DISCOVERY=true
RUN_INITIAL_DISCOVERY=true
ENABLE_SCHEDULED_DISCOVERY=true
DISCOVERY_SCHEDULE=0 0 * * *  # Daily at midnight

# =============================================================================
# METRICS & LEARNING
# =============================================================================
ENABLE_METRICS=true
ENABLE_LEARNING=true
METRICS_RETENTION_DAYS=90
LEARNING_SCHEDULE=0 1 * * *  # Daily at 1 AM
THOMPSON_SAMPLING_ENABLED=true

# =============================================================================
# SEMANTIC CACHING
# =============================================================================
ENABLE_SEMANTIC_CACHE=true
CACHE_SIMILARITY_THRESHOLD=0.95
CACHE_MAX_SIZE_GB=1
CACHE_TTL_DAYS=30

# Vector Database Configuration
VECTOR_DB_TYPE=weaviate
VECTOR_DB_URL=http://localhost:8080
VECTOR_DB_API_KEY=your_vector_db_api_key

# =============================================================================
# RESPONSE VALIDATION
# =============================================================================
ENABLE_RESPONSE_VALIDATION=true
HALLUCINATION_THRESHOLD=0.3
QUALITY_THRESHOLD_FOR_CACHE=0.6
TOXICITY_THRESHOLD=0.7

# =============================================================================
# MULTI-TENANCY (Enterprise Features)
# =============================================================================
ENABLE_MULTI_TENANCY=true
DEFAULT_TENANT=default

# =============================================================================
# BUDGET MANAGEMENT
# =============================================================================
DEFAULT_MONTHLY_BUDGET_USD=1000
DEFAULT_DAILY_BUDGET_USD=50
BUDGET_ALERT_THRESHOLD_PCT=80
BUDGET_CRITICAL_THRESHOLD_PCT=95

# =============================================================================
# AUDIT LOGGING & COMPLIANCE
# =============================================================================
ENABLE_AUDIT_LOGGING=true
AUDIT_RETENTION_DAYS=2555  # 7 years for compliance

# SIEM Integration (Optional)
SIEM_TYPE=webhook  # Options: webhook, splunk, elasticsearch
SIEM_URL=https://your-siem-webhook-url.com
SIEM_TOKEN=your_siem_token

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
OPENTELEMETRY_ENABLED=true
OPENTELEMETRY_ENDPOINT=http://localhost:4317

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# Ollama (Local Models)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_TIMEOUT=30

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_TIMEOUT=60

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_BASE_URL=https://api.anthropic.com
ANTHROPIC_TIMEOUT=60

# DeepSeek
DEEPSEEK_API_KEY=your-deepseek-api-key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# Generic OpenAI-compatible APIs
GENERIC_OPENAI_BASE_URL=https://your-custom-endpoint.com/v1
GENERIC_OPENAI_API_KEY=your-custom-api-key

# =============================================================================
# MODEL ROUTING POLICY
# =============================================================================
MODEL_ROUTING_MODE=local-preferred  # Options: local-preferred, balanced, performance
LOCAL_MODEL_WEIGHT=0.6
COST_WEIGHT=0.25
QUALITY_WEIGHT=0.15

# =============================================================================
# TASK PROFILES
# =============================================================================
# Task types and their preferred model characteristics
# These are used for intelligent model selection

# =============================================================================
# REPOSITORY INTEGRATION (Optional)
# =============================================================================
LOCAL_REPO_PATH=/path/to/your/repo
GITHUB_TOKEN=ghp_your_github_token
GITHUB_REPO_OWNER=your-username
GITHUB_REPO_NAME=your-repo

# =============================================================================
# EMAIL NOTIFICATIONS (Budget Alerts)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# =============================================================================
# SECURITY
# =============================================================================
SECRET_KEY=your-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
DRY_RUN_MODE=false
ENABLE_PROFILING=false
ENABLE_DEBUG_ENDPOINTS=false

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Set these to true in production
ENABLE_REQUEST_LOGGING=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable specific v2 features
ENABLE_ADVANCED_POLICY=true
ENABLE_REINFORCEMENT_LEARNING=true
ENABLE_REAL_TIME_ANALYTICS=true
ENABLE_AUTOMATED_OPTIMIZATION=true
ENABLE_PERFORMANCE_MONITORING=true

# =============================================================================
# KUBERNETES CONFIGURATION (if deploying to K8s)
# =============================================================================
KUBERNETES_NAMESPACE=orchestra-v2
KUBERNETES_SERVICE_NAME=orchestra-v2
KUBERNETES_CONFIG_MAP=orchestra-v2-config

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
DOCKER_IMAGE_TAG=latest
DOCKER_REGISTRY=your-registry.com
DOCKER_REPLICAS=3

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
ENABLE_AUTO_BACKUP=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_URL=s3://your-backup-bucket

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/orchestra_v2_test
TEST_REDIS_URL=redis://localhost:6379/1
ENABLE_TEST_MODE=false
